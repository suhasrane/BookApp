<!-- #bookForm is a temlate reference variable -->
<div class="row">
  <div class="col-md-6">
    <form #bookForm="ngForm" (ngSubmit)="submitBook()">
      <div class="form-group">
        <label for="title" class="font-weight-bold">Title</label>
        <input class="form-control" [(ngModel)]="book.title" name="title" type="text" id="title" placeholder="Enter book title">
      </div>
      <div class="form-group">
        <label for="description" class="font-weight-bold">Description</label>
        <input class="form-control" type="text" [(ngModel)]="book.description" name="description" id="description" placeholder="Enter book description">
      </div>
      <div class="form-group">
        <label for="isbn" class="font-weight-bold">ISBN</label>
        <input class="form-control" type="text" [(ngModel)]="book.isbn" name="isbn" id="isbn" placeholder="Enter book isbn">
      </div>

      <div class="form-group">
        <label for="price" class="font-weight-bold">Price</label>
        <div class="input-group">
          <span class="input-group-addon">$</span>
          <input type="number" [(ngModel)]="book.price" name="price" class="form-control" id="price" placeholder="Price">
          <span class="input-group-addon">.00</span>
        </div>
      </div>
      <div class="form-group">
        <label for="authorId" class="font-weight-bold">Author</label>
        <input class="form-control" type="number" [(ngModel)]="book.authorId" name="authorId" id="authorId" placeholder="Enter authorId">
      </div>
      <div class="form-group">
        <label for="author" class="font-weight-bold">Author Search</label>
        <input class="form-control" type="text" [(ngModel)]="model" name="author" id="author"  [ngbTypeahead]="search" [inputFormatter]="formatter" [resultFormatter]="formatter" placeholder="Enter author">
        {{model | json}}
      </div>
      <div class="form-group">
        <label for="publishedDate" class="font-weight-bold">Published Date</label>
        <input class="form-control" type="datetime" [(ngModel)]="book.publishedDate" name="publishedDate" id="publishedDate" placeholder="Enter published date">
      </div>
      <div class="form-group">
        <label for="pages" class="font-weight-bold">Pages</label>
        <input class="form-control" type="number" [(ngModel)]="book.pages" name="pages" id="pages" placeholder="Enter number of pages">
      </div>
      <div class="form-group">
        <label for="copies" class="font-weight-bold">Number of Copies</label>
        <input class="form-control" type="number" [(ngModel)]="book.copies" name="copies" id="copies" placeholder="Enter number of copies">
      </div>
      <div class="form-group">
        <label for="rating" class="font-weight-bold">Rating</label>
        <input class="form-control" type="number" [(ngModel)]="book.rating" name="rating" id="rating" placeholder="Enter rating">
      </div>
      <div class="form-group">
        <label for="category" class="font-weight-bold">Category</label>
        <!-- <select class="form-control" id="category">
          <option value=""></option>
          <option *ngFor="let cat of categories" [ngValue]='cat.id' >
            {{cat.name}}
          </option>
        </select> -->
        <div class="form-group">
          <div class="form-check form-check-inline" *ngFor="let cat of categories">
            <label class="form-check-label">
              <input class="form-check-input" type="checkbox" [(ngModel)]="cat.isChecked" name="description" id="category" value="{{cat.id}}"> {{cat.name}}
            </label>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="imageUrl" class="font-weight-bold">Image URL</label>
        <input class="form-control" type="text" [(ngModel)]="book.url" name="url" id="imageUrl" placeholder="Image Url">
      </div>
      <button type="submit" class="btn btn-primary">Save</button>
    </form>
  </div>
  <div class="col-md-6" *ngIf="book.title" >
    <div class="card" style="width: 20rem;">
      <img class="card-img-top" src="{{book.url}}" >
      <div class="card-body">
        <h4 class="card-title">{{book.title}}</h4>
        <p class="card-text">{{book.price}}  </p>
      </div>
    </div>
  </div>
</div>

<br>
<!-- {{ book | json }} <br><br><br>
{{ categories | json }} -->
